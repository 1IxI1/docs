---
title: "Tolk vs FunC: standard library"
sidebarTitle: "Standard library"
---

import { Aside } from '/snippets/aside.jsx';

FunC includes a low-level [standard library](/languages/tolk/func/stdlib) in the `stdlib.fc` file, containing `asm` functions closely tied to [TVM instructions](/tvm/instructions).

Tolk provides a standard library based on FunC’s with three main differences.

1. It is split into multiple files: `common.tolk`, `tvm-dicts.tolk`, and others. Functions from `common.tolk` are available, while functions from other files require an import:

    ```tolk
    import "@stdlib/tvm-dicts"

    beginCell()          // always available
    createEmptyDict()    // available due to import
    ```

1. No separate download from GitHub; is required; the library is included in the Tolk distribution.
1. Tolk has functions and methods which are called using the dot operator. Many global FunC functions became methods of builders, slices, and other types, and can no longer be called as functions.

## Functions vs methods

In FunC, there are no methods. All functions are globally scoped.
Any function can be called using the dot operator:

```func
;; FunC
cell config_param(int x) asm "CONFIGOPTPARAM";

config_param(16);   ;; ok
16.config_param();  ;; also ok
```

Calling `b.end_cell()` invokes the global function `end_cell`.
Since all functions are global, there are no "short methods":

```func
someTuple.tuple_size();
;; why not someTuple.size()? because it's a global function:
;; int tuple_size(tuple t)
```

**Tolk separates functions and methods**, as in most languages:

1. Functions cannot be called with the dot operator; only methods can.
1. Methods can have short names without conflicts.

```tolk
// FunC
someCell.cell_hash();     // or cell_hash(someCell)
someSlice.slice_hash();

// Tolk
someCell.hash();          // the only possible
someSlice.hash();
```

## Renamed functions

In the table below, if the **Required import** column is empty, the function is available without imports.

Some functions were removed because they can be expressed syntactically or are rarely used in practice.

<Aside>
  FunC uses **snake\_case**, for example, `begin_cell`, while Tolk methods use **camelCase**, for example, `beginCell`.
</Aside>

The table follows the order in which functions appear in `stdlib.fc`.

| FunC name                            | Tolk name                          | Required import |
| ------------------------------------ | ---------------------------------- | --------------- |
| empty\_tuple                         | createEmptyTuple                   |                 |
| t\~tpush                             | t.push(v)                          |                 |
| first(t) or dot t.first()            | t.first()                          |                 |
| at(t,i) or dot t.at(i)               | t.get(i) or just t.0 etc.          |                 |
| touch(v) or dot                      | v.stackMoveToTop()                 | TVM low-level   |
| impure\_touch                        | _(deleted)_                        |                 |
| single                               | _(deleted)_                        |                 |
| unsingle                             | _(deleted)_                        |                 |
| pair                                 | _(deleted)_                        |                 |
| unpair                               | _(deleted)_                        |                 |
| triple                               | _(deleted)_                        |                 |
| untriple                             | _(deleted)_                        |                 |
| tuple4                               | _(deleted)_                        |                 |
| untuple4                             | _(deleted)_                        |                 |
| second                               | _(deleted)_                        |                 |
| third                                | _(deleted)_                        |                 |
| fourth                               | _(deleted)_                        |                 |
| pair\_first                          | _(deleted)_                        |                 |
| pair\_second                         | _(deleted)_                        |                 |
| triple\_first                        | _(deleted)_                        |                 |
| triple\_second                       | _(deleted)_                        |                 |
| triple\_third                        | _(deleted)_                        |                 |
| minmax                               | minMax                             |                 |
| now                                  | blockchain.now                     |                 |
| my\_address                          | contract.getAddress                |                 |
| get\_balance + pair\_first           | contract.getOriginalBalance        |                 |
| cur\_lt                              | blockchain.logicalTime             |                 |
| block\_lt                            | blockchain.currentBlockLogicalTime |                 |
| cell\_hash(c) or dot                 | c.hash()                           |                 |
| slice\_hash(s) or dot                | s.hash()                           |                 |
| string\_hash(s) or dot               | s.bitsHash()                       |                 |
| check\_signature                     | isSignatureValid                   |                 |
| check\_data\_signature               | isSliceSignatureValid              |                 |
| compute\_data\_size(c) or dot        | c.calculateSizeStrict()            |                 |
| slice\_compute\_data\_size(s) or dot | s.calculateSizeStrict()            |                 |
| c.compute\_data\_size?() or dot      | c.calculateSize()                  |                 |
| slice\_compute\_data\_size?() or dot | s.calculateSize()                  |                 |
| \~dump                               | debug.print                        |                 |
| \~strdump                            | debug.printString                  |                 |
| dump\_stack                          | debug.dumpStack                    |                 |
| get\_data                            | contract.getData                   |                 |
| set\_data                            | contract.setData                   |                 |
| get\_c3                              | getTvmRegisterC3                   | TVM low-level   |
| set\_c3                              | setTvmRegisterC3                   | TVM low-level   |
| bless                                | transformSliceToContinuation       | TVM low-level   |
| accept\_message                      | acceptExternalMessage              |                 |
| set\_gas\_limit                      | setGasLimit                        |                 |
| buy\_gas                             | _(deleted)_                        |                 |
| commit                               | commitContractDataAndActions       |                 |
| divmod                               | divMod                             |                 |
| moddiv                               | modDiv                             |                 |
| muldiv                               | mulDivFloor                        |                 |
| muldivr                              | mulDivRound                        |                 |
| muldivc                              | mulDivCeil                         |                 |
| muldivmod                            | mulDivMod                          |                 |
| begin\_parse                         | beginParse                         |                 |
| end\_parse(s) or dot                 | s.assertEnd()                      |                 |
| load\_ref                            | loadRef                            |                 |
| preload\_ref                         | preloadRef                         |                 |
| load\_int                            | loadInt                            |                 |
| load\_uint                           | loadUint                           |                 |
| preload\_int                         | preloadInt                         |                 |
| preload\_uint                        | preloadUint                        |                 |
| load\_bits                           | loadBits                           |                 |
| preload\_bits                        | preloadBits                        |                 |
| load\_grams                          | loadCoins                          |                 |
| load\_coins                          | loadCoins                          |                 |
| skip\_bits                           | s.skipBits                         |                 |
| first\_bits                          | getFirstBits                       |                 |
| skip\_last\_bits                     | removeLastBits                     |                 |
| slice\_last                          | getLastBits                        |                 |
| load\_dict                           | loadDict                           |                 |
| preload\_dict                        | preloadDict                        |                 |
| skip\_dict                           | skipDict                           |                 |
| load\_maybe\_ref                     | loadMaybeRef                       |                 |
| preload\_maybe\_ref                  | preloadMaybeRef                    |                 |
| cell\_depth(c) or dot                | c.depth()                          |                 |
| slice\_refs(s) or dot                | s.remainingRefsCount()             |                 |
| slice\_bits(s) or dot                | s.remainingBitsCount()             |                 |
| slice\_bits\_refs(s) or dot          | s.remainingBitsAndRefsCount()      |                 |
| slice\_empty?(s) or dot              | s.isEmpty()                        |                 |
| slice\_data\_empty?(s) or dot        | s.isEndOfBits()                    |                 |
| slice\_refs\_empty?(s) or dot        | s.isEndOfRefs()                    |                 |
| slice\_depth(s) or dot               | s.depth()                          |                 |
| equal\_slice\_bits(a,b) or dot       | a.bitsEqual(b)                     |                 |
| builder\_refs(b) or dot              | b.refsCount()                      |                 |
| builder\_bits(b) or dot              | b.bitsCount()                      |                 |
| builder\_depth(b) or dot             | b.depth()                          |                 |
| begin\_cell                          | beginCell                          |                 |
| end\_cell                            | endCell                            |                 |
| store\_ref                           | storeRef                           |                 |
| store\_uint                          | storeUint                          |                 |
| store\_int                           | storeInt                           |                 |
| store\_slice                         | storeSlice                         |                 |
| store\_grams                         | storeCoins                         |                 |
| store\_coins                         | storeCoins                         |                 |
| store\_dict                          | storeDict                          |                 |
| store\_maybe\_ref                    | storeMaybeRef                      |                 |
| store\_builder                       | storeBuilder                       |                 |
| load\_msg\_addr                      | loadAddress                        |                 |
| parse\_addr                          | _(deleted)_                        |                 |
| parse\_std\_addr                     | parseStandardAddress               |                 |
| parse\_var\_addr                     | _(deleted)_                        |                 |
| config\_param                        | blockchain.configParam             |                 |
| raw\_reserve                         | reserveToncoinsOnBalance           |                 |
| raw\_reserve\_extra                  | reserveExtraCurrenciesOnBalance    |                 |
| send\_raw\_message                   | sendRawMessage                     |                 |
| set\_code                            | contract.setCodePostponed          |                 |
| random                               | random.uint256                     |                 |
| rand                                 | random.range                       |                 |
| get\_seed                            | random.getSeed                     |                 |
| set\_seed                            | random.setSeed                     |                 |
| randomize                            | random.initializeBy                |                 |
| randomize\_lt                        | random.initialize                  |                 |
| dump                                 | debug.print                        |                 |
| strdump                              | debug.printString                  |                 |
| dump\_stk                            | debug.dumpStack                    |                 |
| empty\_list                          | createEmptyList                    | lisp-lists      |
| cons                                 | listPrepend                        | lisp-lists      |
| uncons                               | listSplit                          | lisp-lists      |
| list\_next                           | listNext                           | lisp-lists      |
| car                                  | listGetHead                        | lisp-lists      |
| cdr                                  | listGetTail                        | lisp-lists      |
| new\_dict                            | createEmptyMap                     |                 |
| dict\_empty?(d) or dot               | m.isEmpty                          |                 |
| idict\_set\_ref                      | use native maps                    |                 |
| udict\_set\_ref                      | use native maps                    |                 |
| idict\_get\_ref                      | use native maps                    |                 |
| idict\_get\_ref?                     | use native maps                    |                 |
| udict\_get\_ref?                     | use native maps                    |                 |
| idict\_set\_get\_ref                 | use native maps                    |                 |
| udict\_set\_get\_ref                 | use native maps                    |                 |
| idict\_delete?                       | use native maps                    |                 |
| udict\_delete?                       | use native maps                    |                 |
| idict\_get?                          | use native maps                    |                 |
| udict\_get?                          | use native maps                    |                 |
| idict\_delete\_get?                  | use native maps                    |                 |
| udict\_delete\_get?                  | use native maps                    |                 |
| udict\_set                           | use native maps                    |                 |
| idict\_set                           | use native maps                    |                 |
| dict\_set                            | use native maps                    |                 |
| udict\_add?                          | use native maps                    |                 |
| udict\_replace?                      | use native maps                    |                 |
| idict\_add?                          | use native maps                    |                 |
| idict\_replace?                      | use native maps                    |                 |
| udict\_set\_builder                  | use native maps                    |                 |
| idict\_set\_builder                  | use native maps                    |                 |
| dict\_set\_builder                   | use native maps                    |                 |
| udict\_add\_builder?                 | use native maps                    |                 |
| udict\_replace\_builder?             | use native maps                    |                 |
| idict\_add\_builder?                 | use native maps                    |                 |
| idict\_replace\_builder?             | use native maps                    |                 |
| udict\_delete\_get\_min              | use native maps                    |                 |
| idict\_delete\_get\_min              | use native maps                    |                 |
| dict\_delete\_get\_min               | use native maps                    |                 |
| udict\_delete\_get\_max              | use native maps                    |                 |
| idict\_delete\_get\_max              | use native maps                    |                 |
| dict\_delete\_get\_max               | use native maps                    |                 |
| udict\_get\_min?                     | use native maps                    |                 |
| udict\_get\_max?                     | use native maps                    |                 |
| udict\_get\_min\_ref?                | use native maps                    |                 |
| udict\_get\_max\_ref?                | use native maps                    |                 |
| idict\_get\_min?                     | use native maps                    |                 |
| idict\_get\_max?                     | use native maps                    |                 |
| idict\_get\_min\_ref?                | use native maps                    |                 |
| idict\_get\_max\_ref?                | use native maps                    |                 |
| udict\_get\_next?                    | use native maps                    |                 |
| udict\_get\_nexteq?                  | use native maps                    |                 |
| udict\_get\_prev?                    | use native maps                    |                 |
| udict\_get\_preveq?                  | use native maps                    |                 |
| idict\_get\_next?                    | use native maps                    |                 |
| idict\_get\_nexteq?                  | use native maps                    |                 |
| idict\_get\_prev?                    | use native maps                    |                 |
| idict\_get\_preveq?                  | use native maps                    |                 |
| udict::delete\_get\_min              | use native maps                    |                 |
| idict::delete\_get\_min              | use native maps                    |                 |
| dict::delete\_get\_min               | use native maps                    |                 |
| udict::delete\_get\_max              | use native maps                    |                 |
| idict::delete\_get\_max              | use native maps                    |                 |
| dict::delete\_get\_max               | use native maps                    |                 |
| pfxdict\_get?                        | prefixDictGet                      | TVM dicts       |
| pfxdict\_set?                        | prefixDictSet                      | TVM dicts       |
| pfxdict\_delete?                     | prefixDictDelete                   | TVM dicts       |

## Added functions

Some functions from FunC are missing in Tolk’s standard library, but it works well for everyday tasks.

Tolk is evolving, and its standard library is continually updated over time. Check the `tolk-stdlib/` folder in the [source code](https://github.com/ton-blockchain/ton/tree/master/crypto/smartcont/tolk-stdlib). In addition to functions, some constants are added, such as `SEND_MODE_*` and `RESERVE_MODE_*`.

All of these functions are wrappers over TVM assembler instructions. Missing functionality can be implemented by manually wrapping any TVM instruction.

## Mutating functions

Many FunC functions that used the `~` tilde now mutate the object in Tolk rather than returning a copy.

| FunC                            | Tolk                           |
| ------------------------------- | ------------------------------ |
| `int flags = cs~load_uint(32);` | `var flags = cs.loadUint(32);` |
| ...                             | ...                            |

- If `cs~load_uint(…)` was used, use `cs.loadUint(…)` and everything works.
- If `cs.load_uint(…)` was used to get a **copy**, a different approach is needed. [Read about mutability](/languages/tolk/vs-func/stdlib).

## How the embedded stdlib works

All standard library functions are available out of the box. Non-common functions require an `import`, but no external downloads are needed.

Here’s how it works:

1. The Tolk compiler locates the stdlib folder by searching predefined paths relative to an executable binary.

    For example, when the Tolk compiler is launched from a system-installed package, e.g., `/usr/bin/tolk`, the stdlib is located in `/usr/share/ton/smartcont`.

    For custom installations, the `TOLK_STDLIB` environment variable can be set. This is standard practice for compilers.

1. The WASM wrapper [tolk-js](https://github.com/ton-blockchain/tolk-js) also includes the stdlib, so all stdlib functions are available out of the box when using tolk-js directly or through blueprint.

1. JetBrains and VS Code IDE plugins automatically locate the stdlib to provide auto-completion.

    Blueprint installs tolk-js automatically, creating the `node_modules/@ton/tolk-js/` folder in the project structure.

    It contains `common.tolk`, `tvm-dicts.tolk`, and other stdlib files.
